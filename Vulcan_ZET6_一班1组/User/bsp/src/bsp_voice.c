/*
*********************************************************************************************************
*
*	模块名称 : 语言驱动模块
*	文件名称 : bsp_voice.c
*	版    本 : V1.0
*	说    明 : 语言模块需要使用到uart5，且设置波特率为9600
*
*	修改记录 :
*		版本号  日期        作者     说明
*		V1.0    2024-06-25 lawrence  正式发布
*
*	Copyright (C), 2014-2024, 德致伦电子
*
*********************************************************************************************************
*/

///////////////////////////////////////
/* 头文件包含区 */
#include "bsp.h"
#include <string.h>
///////////////////////////////////////
/* 变量定义区 */
uint8_t voice_buf[]={0xFD,0x00,0x0F,0x01,0x01,'m','s','g','a',0xD2,0xD1,0xBF,0xAA,0xCB,0xF8,0x82};//和弦声+文字已开锁
uint8_t alarm_buf[]={0xFD,0x00,0x0F,0x01,0x01,'s','o','u','n','d','n',0x82};//红外报警
///////////////////////////////////////
/* 外部变量申明区 */

///////////////////////////////////////
/* 函数申明区 */

///////////////////////////////////////
/* 函数实体区 */
/*
*********************************************************************************************************
*	函 数 名: Data_Verify_Calc
*	功能说明: 计算数据长度和异或校验
*	形    参：buf，数据数组
*	返 回 值: 无
*********************************************************************************************************
*/
void Data_Verify_Calc(uint8_t *buf,uint8_t len)
{
	uint8_t i=0,Xor=0xFD;

	buf[2] = (uint8_t)(len-3);//去除帧头1字节和长度2字节为数据区总长度
	
	for(i=1;i<len-1;i++)
	{
		Xor ^= buf[i];
	}
	buf[len-1] = Xor;//经过异或校验的数据
}

///////////////////////////////////////

/***************************** 德致伦电子 DeZLinc (END OF FILE) *********************************/
